<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn M3ana - Excellence en Formation</title>
    <link rel="stylesheet" href="style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <!-- Navigation -->
    <header>
        <div class="logo">
            <a href="index.html">
                <img src="logo.png.png" alt="Learn M3ana Logo">
            </a>
        </div>
        <nav>
            <ul>
                <li><a href="index.html" id="nav-home">Accueil</a></li>
                <li><a href="about.html" id="nav-about">About us</a></li>
                <li><a href="#formations">Formations</a></li>
                <li><a href="#" id="nav-contact">Nous contacter</a></li>
            </ul>
        </nav>
        <div class="cta-group" style="display:flex; gap:10px;">
            <button class="btn btn-outline" style="padding: 10px 20px; font-size:0.9rem;" onclick="openAuth('login')">Se
                connecter</button>
            <button class="btn btn-primary" style="padding: 10px 20px; font-size:0.9rem;"
                onclick="openAuth('signup')">S'inscrire</button>
        </div>
    </header>

    <!-- Page Title -->
    <section class="page-header"
        style="padding-top:120px; padding-bottom:40px; text-align:center; background: #f9fcfb;">
        <h1 style="font-size:3rem;">Toutes nos Formations</h1>
        <p style="color:#666;">Explorez notre catalogue complet.</p>
    </section>

    <!-- Formations Section -->
    <section id="formations" class="section-pad" style="background:white; padding-top:0;">

        <!-- Search & Filter Bar -->
        <div class="container" style="max-width: 1000px; margin: 0 auto 3rem;">
            <div class="search-filter-wrapper"
                style="background: #fff; padding: 25px; border-radius: 24px; box-shadow: 0 10px 40px rgba(0,0,0,0.05); margin-top: -30px; position: relative; z-index: 10;">
                <div style="position: relative; margin-bottom: 20px;">
                    <i class="fas fa-search"
                        style="position: absolute; left: 20px; top: 50%; transform: translateY(-50%); color: var(--mint);"></i>
                    <input type="text" id="search-formations"
                        placeholder="Rechercher une formation, un expert ou un mot-clé..."
                        style="width: 100%; padding: 18px 20px 18px 55px; border-radius: 16px; border: 1px solid #eee; font-size: 1rem; outline: none; transition: 0.3s; box-shadow: inset 0 2px 5px rgba(0,0,0,0.01);">
                </div>

                <div class="filter-categories"
                    style="display: flex; gap: 10px; flex-wrap: wrap; justify-content: center;">
                    <button class="filter-btn active" data-category="all">Tous</button>
                    <button class="filter-btn" data-category="Tech">Tech</button>
                    <button class="filter-btn" data-category="Marketing">Marketing</button>
                    <button class="filter-btn" data-category="IA">Intelligence Artificielle</button>
                    <button class="filter-btn" data-category="Management">Management</button>
                    <button class="filter-btn" data-category="Business">Business</button>
                </div>
            </div>
        </div>

        <div class="grid-formations" id="grid-container">
            <!-- JS Populated -->
        </div>
    </section>

    <!-- Section Removed as per request -->

    <!-- Footer -->
    <footer id="footer">
        <div class="footer-grid">
            <div class="footer-col">
                <div class="logo" style="margin-bottom:1rem;">
                    <a href="index.html">
                        <img src="logo.png.png" alt="Learn M3ana Logo">
                    </a>
                </div>
                <p style="opacity:0.7; font-size:0.9rem;">La première plateforme de formation hybride connectant
                    experts
                    et talents au Maroc.</p>
                <div style="margin-top:1.5rem;">
                    <a href="#" style="margin-right:15px;"><i class="fab fa-facebook fa-lg"></i></a>
                    <a href="#" style="margin-right:15px;"><i class="fab fa-linkedin fa-lg"></i></a>
                    <a href="#" style="margin-right:15px;"><i class="fab fa-instagram fa-lg"></i></a>
                    <a href="#"><i class="fab fa-youtube fa-lg"></i></a>
                </div>
            </div>

            <div class="footer-col">
                <h4>Liens Rapides</h4>
                <ul>
                    <li><a href="#home">Accueil</a></li>
                    <li><a href="#formations">Toutes les formations</a></li>
                    <li><a href="#proposer">Devenir Formateur</a></li>
                    <li><a href="#">Connexion / Inscription</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h4>Légal</h4>
                <ul>
                    <li><a href="#">Conditions Générales</a></li>
                    <li><a href="#">Politique de Confidentialité</a></li>
                    <li><a href="#">Mentions Légales</a></li>
                    <li><a href="#">Support Client</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h4>Newsletter</h4>
                <p style="font-size:0.9rem; margin-bottom:1rem; opacity:0.7;">Recevez nos meilleures offres chaque
                    semaine.</p>
                <form>
                    <input type="email" class="newsletter-input" placeholder="Votre email">
                    <button class="btn btn-gold" style="padding: 8px 20px; font-size:0.8rem;">S'abonner</button>
                </form>
            </div>
        </div>
        <div class="copyright">
            &copy; 2025 Learn M3ana Inc. Tous droits réservés. Fait avec <i class="fas fa-heart"
                style="color:var(--beige-dark);"></i> pour
            l'avenir.
        </div>
    </footer>


    <!-- ==================== OVERLAYS ==================== -->

    <!-- 1. Home Description Modal (The "Pitch") -->
    <!-- Home Description Modal (Concept 4: Storytelling & Arguments) -->
    <!-- Home Description Modal (Concept 5: Clear Lists & Icons - "Big Page") -->
    <!-- ==================== MAIN CONTENT SECTIONS ==================== -->

    <!-- 1. ABOUT US SECTION (The "Grand" Page) -->



    <!-- 5. PACK CHOICE MODAL -->
    <div id="overlay-pack-choice" class="overlay-full">
        <div class="contact-card-style" style="max-width: 800px; width: 95%; padding: 3rem;">
            <div class="close-pack-choice close-contact close-overlay">&times;</div>
            <div class="text-center" style="margin-bottom:2.5rem;">
                <h2 style="font-family:'Playfair Display'; font-size:2.5rem; color:var(--primary-green);">Choisissez
                    votre formule</h2>
                <p style="color:#666;">Deux façons d'apprendre, une même excellence.</p>
            </div>

            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:30px;">
                <!-- Standard Pack -->
                <div class="pack-card" onclick="selectPack('standard')"
                    style="border:2px solid #eee; border-radius:20px; padding:2rem; cursor:pointer; position:relative;">
                    <h3 style="color:#555; font-size:1.8rem;">Standard</h3>
                    <div style="font-size:2.5rem; font-weight:800; color:#333; margin:1rem 0;"><span
                            id="standard-pack-price">199</span> <span style="font-size:1rem;">MAD</span></div>
                    <ul class="clean-list" style="font-size:0.9rem; color:#666;">
                        <li><i class="fas fa-ad" style="color:#e74c3c;"></i> Il y a des publicités</li>
    
                    </ul>
                    <button class="btn btn-outline" style="width:100%; margin-top:2rem;">Choisir Standard</button>
                </div>

                <!-- Premium Pack -->
                <div class="pack-card" onclick="selectPack('premium')"
                    style="border:2px solid var(--mint); background:var(--mint-light); border-radius:20px; padding:2rem; cursor:pointer; position:relative; overflow:hidden;">
                    <div
                        style="position:absolute; top:0; right:0; background:var(--mint); color:white; padding:5px 15px; font-weight:bold; font-size:0.8rem; border-bottom-left-radius:10px;">
                        RECOMMANDÉ</div>
                    <h3 style="color:var(--primary-green); font-size:1.8rem;">Premium</h3>
                    <div style="font-size:2.5rem; font-weight:800; color:var(--mint); margin:1rem 0;"><span
                            id="premium-pack-price">499</span> <span style="font-size:1rem;">MAD</span></div>
                    <ul class="clean-list" style="font-size:0.9rem; color:#444;">
                        <li><i class="fas fa-ban" style="color:var(--mint);"></i> Sans publicités (Ad-Free)</li>
                    </ul>
                    <button class="btn btn-gold" style="width:100%; margin-top:2rem; box-shadow:none;">Choisir
                        Premium</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 6. RECAP MODAL -->
    <div id="overlay-recap" class="overlay-full">
        <div class="contact-card-style" style="max-width: 500px; padding: 2.5rem;">
            <div class="text-center" style="margin-bottom:2rem;">
                <h2 style="font-family:'Poppins'; font-size:1.8rem; color:#333;">Récapitulatif de votre commande</h2>
                <div style="width:50px; height:3px; background:var(--beige-dark); margin:10px auto;"></div>
            </div>

            <div style="background:#f8f9fa; padding:1.5rem; border-radius:12px; margin-bottom:2rem;">
                <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                    <span style="color:#666;">Formation :</span>
                    <span style="font-weight:600; color:#333;" id="recap-formation-name">Fullstack JS</span>
                </div>
                <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                    <span style="color:#666;">Formule :</span>
                    <span style="font-weight:600; color:var(--primary-green);" id="recap-pack-name">Premium</span>
                </div>
                <div style="border-top:1px solid #ddd; margin:10px 0;"></div>
                <div style="display:flex; justify-content:space-between; font-size:1.2rem; font-weight:bold;">
                    <span>Total à payer :</span>
                    <span style="color:var(--mint);" id="recap-price">499 MAD</span>
                </div>
            </div>

            <div style="display:flex; gap:15px; flex-direction:column;">
                <button onclick="goToPaymentMethods()" class="btn btn-primary"
                    style="justify-content:center; padding:15px;">
                    <i class="fas fa-lock" style="margin-right:10px;"></i> Continuer vers le paiement sécurisé
                </button>
                <button onclick="closeRecap()" class="btn btn-outline"
                    style="justify-content:center; border:none; text-decoration:underline;">
                    <i class="fas fa-arrow-left" style="margin-right:5px;"></i> Retourner aux formations
                </button>
            </div>
        </div>
    </div>

    <!-- 6.5 PAYMENT METHOD SELECTION (New Step) -->
    <div id="overlay-payment-methods" class="overlay-full">
        <div class="contact-card-style" style="max-width: 600px; padding: 2.5rem;">
            <div class="text-center" style="margin-bottom:2rem;">
                <h2 style="font-family:'Poppins'; font-size:1.8rem; color:#333;">Paiement Sécurisé CMI</h2>
                <p style="color:#666; font-size:0.9rem;">Sélectionnez votre moyen de paiement</p>
            </div>

            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; margin-bottom:2rem;">
                <div class="payment-method-card" onclick="startRedirection('visa')"
                    style="border:1px solid #ddd; border-radius:10px; padding:20px; text-align:center; cursor:pointer; transition:0.3s;">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Visa_Inc._logo.svg/2560px-Visa_Inc._logo.svg.png"
                        style="height:25px; margin-bottom:10px;">
                    <div style="font-weight:600;">Visa / Electron</div>
                </div>
                <div class="payment-method-card" onclick="startRedirection('mastercard')"
                    style="border:1px solid #ddd; border-radius:10px; padding:20px; text-align:center; cursor:pointer; transition:0.3s;">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Mastercard-logo.svg/1280px-Mastercard-logo.svg.png"
                        style="height:35px; margin-bottom:5px;">
                    <div style="font-weight:600;">Mastercard / Maestro</div>
                </div>
                <div class="payment-method-card" onclick="startRedirection('cmi')"
                    style="border:1px solid #ddd; border-radius:10px; padding:20px; text-align:center; cursor:pointer; transition:0.3s;">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/a/a2/Cmi-logo.png"
                        style="height:30px; margin-bottom:10px;">
                    <div style="font-weight:600;">Carte CMI</div>
                </div>
                <div class="payment-method-card" onclick="startRedirection('other')"
                    style="border:1px solid #ddd; border-radius:10px; padding:20px; text-align:center; cursor:pointer; transition:0.3s;">
                    <i class="fas fa-ellipsis-h" style="font-size:1.5rem; margin-bottom:10px; color:#666;"></i>
                    <div style="font-weight:600;">Autres moyens</div>
                </div>
            </div>

            <div style="display:flex; justify-content:center; gap:20px; opacity:0.6;">
                <img src="https://img.icons8.com/color/48/000000/pci-compliant.png" style="height:30px;">
                <img src="https://img.icons8.com/color/48/000000/verified-by-visa.png" style="height:30px;">
                <img src="https://img.icons8.com/color/48/000000/mastercard-securecode.png" style="height:30px;">
            </div>

            <button onclick="backToRecap()" class="btn btn-outline"
                style="width:100%; margin-top:20px; border:none; text-decoration:underline;">Modifier ma
                commande</button>
        </div>
    </div>

    <!-- 6.6 REDIRECTION STATE (New Step) -->
    <div id="overlay-redirect" class="overlay-full" style="background:#f4f7f9;">
        <div style="text-align:center;">
            <div class="loader-cmi"
                style="width:60px; height:60px; border:5px solid #ddd; border-top-color:#0056b3; border-radius:50%; animation: spin 1s linear infinite; margin:0 auto 20px;">
            </div>
            <h2 style="color:#0056b3; font-family:'Poppins';">Redirection en cours...</h2>
            <p style="color:#666; font-size:1.1rem;">Nous vous redirigeons vers le serveur de paiement sécurisé du CMI.
            </p>

            <div id="technical-details-container"
                style="margin-top:20px; text-align:left; max-width:450px; margin-left:auto; margin-right:auto; display:none;">
                <div
                    style="background:#222; color:#0f0; padding:15px; border-radius:8px; font-family:monospace; font-size:0.8rem; overflow-x:auto;">
                    <div style="color:#888; margin-bottom:10px;">// GENERATING CMI POST REQUEST...</div>
                    <div id="tech-params-list"></div>
                </div>
            </div>

            <div style="margin-top:20px;">
                <button onclick="toggleTechnicalDetails()"
                    style="background:none; border:none; color:#0056b3; cursor:pointer; text-decoration:underline; font-size:0.85rem;">Afficher
                    les détails techniques de la requête</button>
            </div>

            <div
                style="margin-top:30px; display:flex; align-items:center; justify-content:center; gap:10px; color:#28a745;">
                <i class="fas fa-lock"></i>
                <span>Connexion sécurisée SSL 256-bit</span>
            </div>
            <p style="margin-top:20px; font-size:0.9rem; color:#999;">Veuillez ne pas actualiser la page.</p>
        </div>
    </div>

    <!-- 7. REALISTIC CMI GATEWAY (EXACT MATCH TO PAIEMENT CMI.PNG) -->
    <div id="overlay-payment" class="overlay-full" style="background:#f0f2f5; z-index:99999;">
        <div
            style="width: 1000px; background: white; padding: 20px; border-top: 5px solid #0056b3; box-shadow: 0 10px 30px rgba(0,0,0,0.2); position: relative;">

            <!-- Close Button for dev/testing -->
            <div onclick="cancelPayment()"
                style="position:absolute; top:10px; right:15px; cursor:pointer; color:#888; font-size:1.5rem;">&times;
            </div>

            <h1
                style="color: #008cc9; font-family: 'Poppins', sans-serif; font-size: 1.8rem; margin: 0 0 20px 0; font-weight: 500;">
                DEMANDE DE PAIEMENT</h1>

            <div
                style="display: grid; grid-template-columns: 1.1fr 1fr; gap: 30px; border-top: 1px solid #0056b3; padding-top: 20px;">

                <!-- Left Column: PAYMENT DETAIL -->
                <div>
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                        <h3 style="color:#008cc9; font-size:1rem; text-transform:uppercase; margin:0;">DÉTAIL DE
                            PAIEMENT</h3>
                        <small style="color:#888;" id="cmi-technical-date">vendredi, décembre 26, 2025 11:15:37</small>
                    </div>

                    <div style="background:#fcfcfc; border:1px solid #eee; padding:20px; border-radius:4px;">
                        <div style="display:flex; align-items:center; gap:10px; margin-bottom:20px;">
                            <span style="font-size:0.9rem; font-weight:bold;">Méthode de paiement :</span>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Visa_Inc._logo.svg/2560px-Visa_Inc._logo.svg.png"
                                style="height:15px;">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Mastercard-logo.svg/1280px-Mastercard-logo.svg.png"
                                style="height:18px;">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/a/a2/Cmi-logo.png"
                                style="height:20px;">
                        </div>

                        <div style="margin-bottom:15px;">
                            <label style="display:block; margin-bottom:5px; font-weight:bold; font-size:0.85rem;"><input
                                    type="radio" checked disabled> Carte bancaire</label>
                        </div>

                        <form id="payment-form">
                            <div style="margin-bottom:15px;">
                                <label style="display:block; font-size:0.85rem; margin-bottom:5px;">Nom du porteur de la
                                    carte</label>
                                <input type="text"
                                    style="width:100%; padding:10px; border:1px solid #ccc; border-radius:3px; background:#fdfdfd;"
                                    placeholder="Nom du porteur de la carte" required>
                            </div>

                            <div style="margin-bottom:15px;">
                                <label style="display:block; font-size:0.85rem; margin-bottom:5px;">Numéro de carte de
                                    paiement</label>
                                <input type="text"
                                    style="width:100%; padding:10px; border:1px solid #ccc; border-radius:3px;"
                                    placeholder="Numéro de carte de paiement" maxlength="16" required>
                            </div>

                            <div style="display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-bottom:20px;">
                                <div>
                                    <label style="display:block; font-size:0.85rem; margin-bottom:5px;">Date
                                        d'expiration</label>
                                    <div style="display:flex; gap:5px;">
                                        <select style="flex:1; padding:8px; border:1px solid #ccc;">
                                            <option>01</option>
                                            <option>12</option>
                                        </select>
                                        <select style="flex:1; padding:8px; border:1px solid #ccc;">
                                            <option>2025</option>
                                            <option>2030</option>
                                        </select>
                                    </div>
                                </div>
                                <div>
                                    <label style="display:block; font-size:0.85rem; margin-bottom:5px;">Code de
                                        vérification</label>
                                    <div style="display:flex; align-items:center; gap:5px;">
                                        <input type="password" style="width:60px; padding:8px; border:1px solid #ccc;"
                                            maxlength="3" required>
                                        <span
                                            style="color:#0056b3; font-size:0.75rem; text-decoration:underline; cursor:help;">(?)</span>
                                    </div>
                                </div>
                            </div>

                            <div style="margin-bottom:20px; font-size:0.8rem; color:#444;">
                                <input type="checkbox" required> Confirmer l'acceptation des <a href="#"
                                    style="color:#0056b3;">conditions générales d'utilisation du service</a>
                            </div>

                            <button type="submit"
                                style="width:100%; background:#5cb85c; color:white; border:none; padding:15px; font-size:1.2rem; font-weight:bold; border-radius:4px; cursor:pointer; text-transform:none;">
                                Valider le paiement
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Right Column: MERCHANT & ORDER INFO -->
                <div style="font-size:0.85rem; color:#333;">

                    <!-- Marchand -->
                    <div style="border:1px solid #d9edf7; border-radius:4px; margin-bottom:20px;">
                        <div
                            style="background:#f5f5f5; padding:8px 15px; color:#31708f; font-weight:bold; text-transform:uppercase; font-size:0.8rem;">
                            DÉTAIL MARCHAND</div>
                        <div style="padding:15px; display:flex;">
                            <span style="width:120px;">Nom du marchand</span> <span style="margin:0 10px;">:</span>
                            <strong>LEARN M3ANA SARL (600000235)</strong>
                        </div>
                    </div>

                    <!-- Client -->
                    <div style="border:1px solid #d9edf7; border-radius:4px; margin-bottom:20px;">
                        <div
                            style="background:#f5f5f5; padding:8px 15px; color:#31708f; font-weight:bold; text-transform:uppercase; font-size:0.8rem;">
                            INFORMATIONS DU CLIENT</div>
                        <div style="padding:15px;">
                            <div style="display:flex; margin-bottom:8px;"><span style="width:80px;">Nom</span> <span
                                    style="margin:0 10px;">:</span> <span>Client Learn M3ana</span></div>
                            <div style="display:flex; margin-bottom:8px;"><span style="width:80px;">Adresse</span> <span
                                    style="margin:0 10px;">:</span> <span>Rabat, MAROC</span></div>
                        </div>
                    </div>

                    <!-- Commande -->
                    <div style="border:1px solid #d9edf7; border-radius:4px;">
                        <div
                            style="background:#f5f5f5; padding:8px 15px; color:#31708f; font-weight:bold; text-transform:uppercase; font-size:0.8rem;">
                            DÉTAIL DE LA COMMANDE</div>
                        <div style="padding:15px;">
                            <div style="display:flex; margin-bottom:15px;"><span style="width:100px;">Num.
                                    Contrat</span> <span style="margin:0 10px;">:</span> <strong
                                    id="cmi-contract-id">00057965</strong></div>

                            <table style="width:100%; border-collapse:collapse; font-size:0.75rem;">
                                <thead>
                                    <tr style="border-bottom:1px solid #ddd; text-align:left;">
                                        <th style="padding:5px 0;">Facture/Apurement</th>
                                        <th style="padding:5px 0;">Description</th>
                                        <th style="padding:5px 0; text-align:right;">Montant</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr style="border-bottom:1px dotted #eee;">
                                        <td style="padding:8px 0;" id="cmi-facture-id">210010264039</td>
                                        <td style="padding:8px 0;" id="vpc-pack-name">Pack Formation Selectionnée</td>
                                        <td style="padding:8px 0; text-align:right;" id="vpc-amount">499.00 MAD</td>
                                    </tr>

                                    <tr>
                                        <td colspan="2" style="padding:15px 0; text-align:right; font-weight:bold;">
                                            Total</td>
                                        <td style="padding:15px 0; text-align:right; font-weight:bold; color:#d9534f; font-size:1.1rem;"
                                            id="vpc-total">502.41 DH</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div
                style="margin-top:20px; border-top:1px solid #eee; padding-top:15px; display:flex; justify-content:space-between; align-items:center;">
                <div style="display:flex; gap:15px; align-items:center;">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/a/a2/Cmi-logo.png" style="height:15px;">
                    <span style="font-size:0.6rem; color:#999;">CMI</span>
                </div>
                <div style="display:flex; gap:15px; align-items:center; opacity:0.8;">
                    <img src="https://img.icons8.com/color/48/000000/verified-by-visa.png" style="height:25px;">
                    <img src="https://img.icons8.com/color/48/000000/mastercard-securecode.png" style="height:25px;">
                    <img src="https://img.icons8.com/color/48/000000/norton-security.png" style="height:25px;">
                    <img src="https://img.icons8.com/color/48/000000/pci-compliant.png" style="height:25px;">
                </div>
            </div>
        </div>
    </div>

    <!-- 7.5 3D SECURE MODAL -->
    <div id="overlay-3ds" class="overlay-full" style="background:rgba(0,0,0,0.8); z-index:1000000;">
        <div
            style="background:white; width: 450px; padding:0; border-radius:4px; overflow:hidden; position:relative; box-shadow:0 15px 50px rgba(0,0,0,0.5);">
            <div
                style="padding:20px; border-bottom:1px solid #ddd; display:flex; justify-content:space-between; align-items:center;">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Visa_Inc._logo.svg/2560px-Visa_Inc._logo.svg.png"
                    style="height:20px;">
                <div style="font-weight:bold; color:#444;">Vérification de Sécurité</div>
            </div>
            <div style="padding:40px; text-align:center;">
                <div style="margin-bottom:25px;">
                    <i class="fas fa-mobile-alt" style="font-size:3rem; color:#004694; margin-bottom:15px;"></i>
                    <h3 style="margin-bottom:10px;">Authentification Forte</h3>
                    <p style="font-size:0.9rem; color:#666;">Un code de validation vient d'être envoyé par SMS au numéro
                        associé à votre carte (finissant par **92).</p>
                </div>
                <form id="form-3ds">
                    <div style="background:#f8f9fa; padding:20px; border-radius:8px; margin-bottom:20px;">
                        <label style="display:block; margin-bottom:10px; font-weight:bold; color:#333;">Saisissez le
                            code secret :</label>
                        <input type="text" id="otp-code" maxlength="6"
                            style="width:150px; padding:15px; text-align:center; font-size:1.5rem; letter-spacing:5px; border:2px solid #004694; border-radius:4px;"
                            placeholder="******" required>
                    </div>
                    <button type="submit" class="btn btn-primary"
                        style="width:100%; justify-content:center; padding:15px; background:#004694;">VALIDER ET
                        PAYER</button>
                    <div style="margin-top:20px; font-size:0.8rem; color:#888;">Vous n'avez pas reçu le code ? <span
                            style="color:#004694; cursor:pointer; text-decoration:underline;">Renvoyer</span></div>
                </form>
            </div>
            <div
                style="padding:15px; background:#f4f4f4; border-top:1px solid #eee; display:flex; gap:10px; justify-content:center; align-items:center; opacity:0.7;">
                <img src="https://img.icons8.com/color/48/000000/verified-by-visa.png" style="height:25px;">
                <img src="https://img.icons8.com/color/48/000000/mastercard-securecode.png" style="height:25px;">
            </div>
        </div>
    </div>

    <!-- 2.5 POST FORMATION MODAL (MOVED) -->
    <div id="overlay-proposer" class="overlay-full">
        <div class="contact-card-style" style="max-width:700px; width:95%; padding:3rem; position:relative;">
            <div class="close-proposer close-contact"
                style="position:absolute; top:20px; right:20px; cursor:pointer; font-size:1.5rem; color:#888;">&times;
            </div>

            <!-- Step Indicator -->
            <div class="step-indicator">
                <div class="step-dot active" id="dot-1">1</div>
                <div class="step-dot" id="dot-2">2</div>
                <div class="step-dot" id="dot-3">3</div>
            </div>

            <form id="multi-step-proposer" novalidate>
                <!-- STEP 1: COMPANY INFO -->
                <div class="proposer-step active" id="step-1">
                    <div class="text-center" style="margin-bottom:2rem;">
                        <h2 style="font-family:'Playfair Display';">Informations de l'entreprise</h2>
                        <p style="color:#777;">Dites-nous qui vous êtes.</p>
                    </div>
                    <div class="form-group">
                        <label>Nom de l'entreprise / Organisme</label>
                        <input type="text" class="form-control" id="comp-name" placeholder="Ex: Casablanca Tech Academy"
                            required>
                    </div>
                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:20px;">
                        <div class="form-group">
                            <label>E-mail professionnel</label>
                            <input type="email" class="form-control" id="comp-email" placeholder="contact@entreprise.ma"
                                required>
                        </div>
                        <div class="form-group">
                            <label>Téléphone</label>
                            <input type="tel" class="form-control" id="comp-phone" placeholder="05XXXXXXXX" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Site Web (Optionnel)</label>
                        <input type="url" class="form-control" id="comp-web" placeholder="https://www.monsite.ma">
                    </div>
                    <button type="button" class="btn btn-gold"
                        style="width:100%; justify-content:center; margin-top:1rem;" onclick="nextStep(2)">
                        Suivant <i class="fas fa-arrow-right" style="margin-left:10px;"></i>
                    </button>
                </div>
                <div class="proposer-step" id="step-2">
                    <div class="text-center" style="margin-bottom:2rem;">
                        <h2 style="font-family:'Playfair Display';">Détails de la formation</h2>
                        <p style="color:#777;">Décrivez votre offre de valeur.</p>
                    </div>
                    <div class="form-group">
                        <label>Titre de la formation</label>
                        <input type="text" class="form-control" id="form-title"
                            placeholder="Ex: Masterclass Marketing Digital" required>
                    </div>
                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:20px;">
                        <div class="form-group">
                            <label>Prix de vente (MAD)</label>
                            <input type="number" class="form-control" id="form-price" placeholder="999" required>
                        </div>
                        <div class="form-group">
                            <label>Durée estimée</label>
                            <input type="text" class="form-control" id="form-duration" placeholder="Ex: 15h 30min"
                                required>
                        </div>
                    </div>

                    <label style="display:block; margin-bottom:10px; font-weight:bold;">Choisissez votre pack de
                        partenariat</label>
                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; margin-bottom:2rem;">
                        <div class="commission-card selected" id="pack-train-std" onclick="selectTrainPack('standard')">
                            <h4 style="color:var(--primary-green);">Pack Standard</h4>
                            <p style="font-size:0.8rem; color:#666; margin:10px 0;">La plateforme prend
                                <strong>30%</strong> de commission sur chaque vente.
                            </p>
                            <span class="badge" style="background:#eee; color:#333;">Accès Simple</span>
                        </div>
                        <div class="commission-card" id="pack-train-pre" onclick="selectTrainPack('premium')">
                            <h4 style="color:var(--beige-dark);">Pack Premium</h4>
                            <p style="font-size:0.8rem; color:#666; margin:10px 0;">Commission de <strong>35%</strong> +
                                Publicité et promotion par Learn M3ana.</p>
                            <span class="badge" style="background:var(--beige-dark); color:var(--primary-green);">Boost
                                Visibilité</span>
                        </div>
                    </div>

                    <div style="display:flex; gap:15px;">
                        <button type="button" class="btn btn-outline" style="flex:1; justify-content:center;"
                            onclick="nextStep(1)">Retour</button>
                        <button type="button" class="btn btn-gold" style="flex:2; justify-content:center;"
                            onclick="nextStep(3)">Enregistrer & Continuer</button>
                    </div>
                </div>
                <div class="proposer-step" id="step-3">
                    <div class="text-center" style="margin-bottom:1.5rem;">
                        <h2 style="font-family:'Playfair Display';">Coordonnées de Versement</h2>
                        <p style="color:#777; font-size:0.9rem;">Enregistrez vos coordonnées bancaires pour recevoir vos
                            paiements.</p>
                    </div>

                    <div style="display:flex; justify-content:center; gap:15px; margin-bottom:1.5rem;">
                        <img src="https://img.icons8.com/color/48/000000/visa.png" style="height:30px;">
                        <img src="https://img.icons8.com/color/48/000000/mastercard.png" style="height:30px;">
                        <img src="https://img.icons8.com/color/48/000000/cmi.png"
                            style="height:30px; border:1px solid #ddd; border-radius:3px;">
                    </div>

                    <div class="form-group">
                        <label>Nom sur la carte</label>
                        <input type="text" class="form-control" placeholder="NOM DE L'ENTREPRISE" required>
                    </div>
                    <div class="form-group">
                        <label>Numéro de carte</label>
                        <input type="text" class="form-control" placeholder="4590 •••• •••• ••••" required>
                    </div>
                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px;">
                        <div class="form-group">
                            <label>Expiration (MM/AA)</label>
                            <input type="text" class="form-control" placeholder="12/26" required>
                        </div>
                        <div class="form-group">
                            <label>CVV</label>
                            <input type="text" class="form-control" placeholder="123" required>
                        </div>
                    </div>

                    <div style="display:flex; gap:15px; margin-top:1rem;">
                        <button type="button" class="btn btn-outline" style="flex:1; justify-content:center;"
                            onclick="nextStep(2)">Retour</button>
                        <button type="submit" class="btn btn-primary"
                            style="flex:2; justify-content:center; background:#27ae60;">Enregistrer les données</button>
                    </div>
                    <div class="text-center" style="margin-top:15px;">
                        <img src="https://static.cmi.co.ma/logo-cmi.png" style="height:20px; opacity:0.6;">
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div id="overlay-success-trainer" class="overlay-full">
        <div class="contact-card-style text-center" style="max-width:450px; padding:3rem;">
            <div
                style="width:80px; height:80px; background:#e8f5e9; color:#2e7d32; border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 20px; font-size:2.5rem;">
                <i class="fas fa-check-double"></i>
            </div>
            <h2 style="font-family:'Playfair Display'; margin-bottom:1rem;">Données Enregistrées</h2>
            <p style="color:#666; margin-bottom:2rem;">Toutes vos informations professionnelles et bancaires ont été
                enregistrées avec succès. Votre compte est désormais activé.</p>
            <button class="btn btn-gold" style="width:100%; justify-content:center;"
                onclick="document.getElementById('overlay-success-trainer').classList.remove('active')">
                Fermer
            </button>
        </div>
    </div>
    <div id="course-player" class="course-player hidden" style="display:none;">
        <div
            style="height:60px; background:#111; display:flex; align-items:center; justify-content:space-between; padding:0 2rem; border-bottom:1px solid #333;">
            <div style="font-weight:bold; color:var(--beige-dark);"><i class="fas fa-play-circle"></i> Learn M3ana
                Professional Player
            </div>
            <button class="btn btn-outline" id="btn-exit-player"
                style="border-radius:4px; padding:5px 15px; font-size:0.8rem; border-color:#333; color:#aaa;">Quitter le
                cours</button>
        </div>
        <div class="player-main">
            <div class="video-stage">
                <div id="video-container" style="width:100%; height:100%;">
                    <!-- Video injected here -->
                </div>
            </div>
            <div class="sidebar-list">
                <!-- Tabs -->
                <div style="display:flex; background:#1a1a1a; border-bottom:1px solid #333;">
                    <div id="tab-lessons" onclick="switchPlayerTab('lessons')"
                        style="flex:1; padding:15px; text-align:center; cursor:pointer; font-size:0.8rem; font-weight:bold; color:var(--beige-dark); border-bottom:2px solid var(--beige-dark);">
                        PROGRAMME</div>
                    <div id="tab-docs" onclick="switchPlayerTab('docs')"
                        style="flex:1; padding:15px; text-align:center; cursor:pointer; font-size:0.8rem; font-weight:bold; color:#888;">
                        RESSOURCES</div>
                </div>

                <div id="lessons-container"></div>
                <div id="docs-container" style="display:none; padding:15px;"></div>
            </div>
        </div>
    </div>

    <div id="overlay-contact" class="overlay-full">
        <div class="contact-card-style" style="position:relative; animation: slideUpFade 0.4s ease-out;">
            <div class="close-contact">&times;
            </div>
            <div class="text-center" style="margin-bottom:2rem;">
                <h2>Nous Contacter</h2>
                <p>Une question ? Un problème ? Nous sommes là.</p>
            </div>
            <form id="contact-form">
                <div class="form-group">
                    <label>Nom Complet</label>
                    <input type="text" class="form-control" placeholder="Votre nom" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" class="form-control" placeholder="votre@email.com" required>
                </div>
                <div class="form-group">
                    <label>Type de problème</label>
                    <select class="form-control" required>
                        <option value="" disabled selected>Sélectionnez un sujet</option>
                        <option>Problème Technique</option>
                        <option>Question sur une formation</option>
                        <option>Partenariat / Entreprise</option>
                        <option>Autre</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Message</label>
                    <textarea class="form-control" rows="4" placeholder="Décrivez votre demande..." required></textarea>
                </div>
                <button type="submit" class="btn btn-gold" style="width:100%; justify-content:center;">
                    Envoyer le message
                </button>
            </form>
        </div>
    </div>

    <div id="overlay-auth" class="overlay-full">
        <div class="auth-modal-container">
            <div class="close-auth close-overlay"><i class="fas fa-times"></i></div>
            <div class="auth-side-intro">
                <div class="logo" style="margin-bottom: 2rem;">
                    <img src="logo.png.png" alt="Learn M3ana" style="filter: brightness(0) invert(1);">
                </div>
                <h2 style="color: white; font-size: 2.2rem; margin-bottom: 1.5rem;">Bienvenue sur l'Excellence</h2>
                <p style="opacity: 0.9; margin-bottom: 2rem;">Rejoignez des milliers d'apprenants et d'experts au Maroc
                    pour transformer votre avenir.</p>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div
                        style="width: 40px; height: 40px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <span style="font-size: 0.9rem;">Sécurisé & Certifié CMI</span>
                </div>
            </div>

            <div class="auth-form-side">

                <div class="auth-tabs">
                    <div id="tab-login" class="auth-tab active" onclick="switchAuth('login')">Connexion</div>
                    <div id="tab-signup" class="auth-tab" onclick="switchAuth('signup')">Créer un compte</div>
                </div>

                <form id="login-form">
                    <h2 style="margin-bottom: 0.5rem;">Bon retour !</h2>
                    <p style="color: #666; font-size: 0.9rem; margin-bottom: 2rem;">Veuillez entrer vos identifiants
                        pour
                        continuer.</p>

                    <div class="social-login-group">
                        <button type="button" class="social-btn">
                            <img src="https://www.google.com/favicon.ico" width="18" alt="Google"> Google
                        </button>
                        <button type="button" class="social-btn">
                            <img src="https://www.linkedin.com/favicon.ico" width="18" alt="LinkedIn"> LinkedIn
                        </button>
                    </div>

                    <div class="auth-divider"><span>ou continuer avec l'email</span></div>

                    <div class="form-group">
                        <label>Email professionnel</label>
                        <input type="email" class="form-control" placeholder="nom@exemple.com" required>
                    </div>

                    <div class="form-group">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label>Mot de passe</label>
                            <a href="#"
                                style="font-size: 0.8rem; color: var(--primary-green); text-decoration: none;">Oublié
                                ?</a>
                        </div>
                        <div class="password-input-wrapper">
                            <input type="password" class="form-control" placeholder="••••••••" required>
                            <i class="fas fa-eye toggle-password"></i>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary"
                        style="width: 100%; justify-content: center; margin-top: 1rem;">
                        Se connecter
                    </button>
                </form>

                <form id="signup-form" style="display: none;">
                    <h2 style="margin-bottom: 0.5rem;">Commencer l'aventure</h2>
                    <p style="color: #666; font-size: 0.9rem; margin-bottom: 2rem;">Accédez à toutes les formations en
                        quelques clics.</p>

                    <div class="form-group">
                        <label>Nom complet</label>
                        <input type="text" class="form-control" placeholder="Jean Dupont" required>
                    </div>

                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-control" placeholder="nom@exemple.com" required>
                    </div>

                    <div class="form-group">
                        <label>Téléphone (WhatsApp)</label>
                        <input type="tel" class="form-control" placeholder="+212 6..." required>
                    </div>

                    <div class="form-group">
                        <label>Mot de passe</label>
                        <div class="password-input-wrapper">
                            <input type="password" class="form-control" placeholder="Minimum 8 caractères" required>
                            <i class="fas fa-eye toggle-password"></i>
                        </div>
                    </div>

                    <p style="font-size: 0.75rem; color: #888; margin: 1.5rem 0;">En vous inscrivant, vous acceptez nos
                        <a href="#">Conditions d'utilisation</a> et <a href="#">Politique de confidentialité</a>.
                    </p>

                    <button type="submit" class="btn btn-gold" style="width: 100%; justify-content: center;">
                        S'inscrire gratuitement
                    </button>
                </form>

                <div class="auth-footer">
                    <p id="auth-switch-text">Pas encore de compte ? <a href="#"
                            onclick="switchAuth('signup'); return false;">Inscrivez-vous</a></p>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>